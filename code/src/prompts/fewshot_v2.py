"""
Few-shot v2 프롬프트 클래스
"""

from .base import BasePrompt


class FewshotV2Prompt(BasePrompt):
    """
    Few-shot v2 프롬프트
    조사, 표준어, 사이시옷, 능동/피동, 문법 예시를 포함한 프롬프트
    """

    @property
    def name(self) -> str:
        """프롬프트 이름 반환"""
        return "fewshot_v2"

    def system_message(self) -> str:
        """시스템 메시지 반환 (사용하지 않음)"""
        return ""

    def format_user_message(self, text: str) -> str:
        """
        사용자 메시지 포맷팅

        Args:
            text: 교정할 원문 텍스트

        Returns:
            str: 포맷팅된 프롬프트
        """
        template = """# 지시
- 다음 규칙에 따라 원문을 교정하세요.
- 맞춤법, 띄어쓰기, 문장 부호, 문법을 자연스럽게 교정합니다.
- 특히 조사, 표준어, 사이시옷, 능동/피동, 문법 오류에 주의하세요.
- 어떤 경우에도 설명이나 부가적인 내용은 포함하지 않습니다.
- 오직 교정된 문장만 출력합니다.

# 예시 1: 맞춤법과 조사
<원문>
오늘 날씨가 않좋은데, 김치찌게 먹으러 갈려고.
<교정>
오늘 날씨가 안 좋은데, 김치찌개 먹으러 가려고.

# 예시 2: 조사 오류
<원문>
그 모습은 정말 인상적이었다.
<교정>
그 모습이 정말 인상적이었다.

# 예시 3: 표준어
<원문>
동태찌개를 먹으면서 눈 깜빡할 사이에 다 먹었어.
<교정>
동태찌개를 먹으면서 눈 깜짝할 사이에 다 먹었어.

# 예시 4: 사이시옷
<원문>
빗물이 뒤머리를 타고 흘러내렸고, 나뭇가지가 부러졌다.
<교정>
빗물이 뒷머리를 타고 흘러내렸고, 나뭇가지가 부러졌다.

# 예시 5: 능동/피동
<원문>
차가 벽에 부딪쳐서 놀랐어.
<교정>
차가 벽에 부딪혀서 놀랐어.

# 예시 6: 문법 (연결 어미)
<원문>
답답하자 창문을 열었다.
<교정>
답답해서 창문을 열었다.

# 교정할 문장
<원문>
{text}
<교정>"""

        return template.format(text=text)
