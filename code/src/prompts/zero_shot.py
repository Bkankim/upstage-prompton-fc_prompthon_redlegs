"""
Zero-shot 프롬프트 (예시 없음)

전문가 조언:
- Baseline(1개 예시)도 부작용이 있으므로 예시를 완전히 제거
- 시스템 메시지만으로 순수한 교정 능력 활용
- 출력 형식 제약을 명확히 하여 메타데이터 방지
"""

from .base import BasePrompt


class ZeroShotPrompt(BasePrompt):
    """
    Zero-shot 프롬프트 클래스

    특징:
    - 예시 없음 (Few-shot 부작용 제거)
    - 명확한 출력 형식 지시
    - 모든 오류 유형 교정 강조
    """

    @property
    def name(self) -> str:
        return "zero_shot"

    def system_message(self) -> str:
        """시스템 메시지 반환 (사용하지 않음)"""
        return ""

    def format_user_message(self, text: str) -> str:
        """
        사용자 메시지 생성

        Args:
            text: 교정할 원문

        Returns:
            str: 포맷팅된 사용자 메시지
        """
        template = """# 지시사항
다음 한국어 문장을 교정하세요.

# 교정 범위
- 맞춤법 오류 (예: 않좋은→안 좋은, 김치찌게→김치찌개)
- 띄어쓰기 오류 (예: 받아봐야겠다→받아 봐야겠다)
- 조사 오류 (예: 탐탁치→탐탁지, 을→를)
- 사이시옷 오류 (예: 개나리꽃길→개나리꽃 길)
- 문장부호 오류 (예: 동아일보→《동아일보》, 12.3→12·3)
- 비문 및 어색한 표현
- 단순 오탈자
- 표현 다듬기 (중복 제거, 자연스러운 표현)

# 출력 규칙 (매우 중요!)
1. 교정된 문장만 출력하세요
2. 설명, 주석, 라벨을 절대 포함하지 마세요
3. "원문:", "교정:", "출력:", "최종", "수정" 등의 단어를 사용하지 마세요
4. 콜론(:), 줄바꿈, 특수기호(#, ※, [], <>)를 추가하지 마세요
5. 원문이 여러 문장이면 모든 문장을 교정하세요 (첫 문장만 출력 금지)
6. 원문의 내용을 임의로 추가하거나 삭제하지 마세요

# 교정할 문장
{text}"""
        return template.format(text=text)
